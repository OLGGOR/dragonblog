CREATE DATABASE dragonblog
    WITH
    OWNER = sber
    ENCODING = 'UTF8'
    CONNECTION LIMIT = -1;

CREATE TABLE public."User"
(
    id bigserial NOT NULL,
    nickname character varying(60) NOT NULL,
    password character varying(60) NOT NULL,
    name character varying(60) NOT NULL,
    surname character varying(60) NOT NULL,
    patronymic character varying(60),
    sex character varying(10) NOT NULL,
    date_of_birth date,
    city character varying(60),
    about_me text,
    PRIMARY KEY (id)
)
    WITH (
        OIDS = FALSE
    );

ALTER TABLE public."User"
    OWNER to sber;

create unique index user_nickname_uindex
    on public."User" (nickname);

CREATE TABLE public."Post"
(
    id bigserial NOT NULL,
    id_author bigint NOT NULL,
    date time without time zone NOT NULL,
    description text NOT NULL,
    PRIMARY KEY (id)
)
    WITH (
        OIDS = FALSE
    );

ALTER TABLE public."Post"
    OWNER to sber;

CREATE TABLE public."Comment"
(
    id bigserial NOT NULL,
    id_author bigint NOT NULL,
    id_post bigint NOT NULL,
    date time without time zone NOT NULL,
    description text NOT NULL,
    PRIMARY KEY (id)
)
    WITH (
        OIDS = FALSE
    );

ALTER TABLE public."Comment"
    OWNER to sber;

